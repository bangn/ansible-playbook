---

# Deb packages
- name: Install deb packages
  apt:
    name: "{{item.name}}"
    state: "{{item.state}}"
    update_cache: yes
  with_items:
    - {name: acpi-call-dkms, state: present}
    - {name: apticron, state: latest}
    - {name: arandr, state: present}
    - {name: autojump, state: present}
    - {name: borgbackup, state: latest}
    - {name: cups, state: present}
    - {name: cups-pdf, state: present}
    - {name: dnsmasq, state: present}
    - {name: dnsutils, state: present}
    - {name: evince, state: present}
    - {name: exfat-fuse, state: present}
    - {name: exfat-utils, state: present}
    - {name: fcitx, state: present}
    - {name: feh, state: present}
    - {name: firmware-iwlwifi, state: latest}
    - {name: fonts-font-awesome, state: present}
    - {name: fonts-hack, state: present}
    - {name: fonts-hack-ttf, state: present}
    - {name: i3, state: latest}
    - {name: i3blocks, state: latest}
    - {name: ldnsutils, state: present}
    - {name: libncurses5, state: latest}  # For installing ghcup
    - {name: libpq-dev, state: present}   # For installing pg gem
    - {name: lxc, state: latest}
    - {name: openconnect, state: present}
    - {name: python3-dev, state: latest}
    - {name: python3-neovim, state: latest}
    - {name: python3-pip, state: latest}
    - {name: rkhunter, state: latest}
    - {name: rofi, state: present}
    - {name: rsync, state: latest}
    - {name: scrot, state: present}
    - {name: ssh-askpass, state: latest}
    - {name: ssh-askpass-gnome, state: latest}
    - {name: stow, state: present}
    - {name: texlive-fonts-extra, state: latest}
    - {name: texlive-fonts-recommended, state: latest}
    - {name: texlive-latex-base, state: latest}
    - {name: texlive-latex-extra, state: latest}
    - {name: tlp, state: present}
    - {name: tp-smapi-dkms, state: present}
    - {name: unattended-upgrades, state: latest}
    - {name: vagrant, state: latest}
    - {name: vim, state: latest}
    - {name: xautolock, state: latest}
    - {name: xbacklight, state: latest}
    - {name: xclip, state: latest}
    - {name: xdotool, state: latest}
    - {name: xfce4-clipman, state: latest}
    - {name: xfce4-clipman-plugin, state: latest}
    - {name: xinput, state: latest}
    - {name: xserver-xorg-input-synaptics, state: latest}
    - {name: xserver-xorg-video-intel, state: latest}
    - {name: zsh, state: latest}

    # Asian font
    - {name: fonts-arphic-ukai, state: latest}
    - {name: fonts-arphic-uming, state: latest}
    - {name: fonts-ipafont-gothic, state: latest}
    - {name: fonts-ipafont-mincho, state: latest}
    - {name: fonts-unfonts-core, state: latest}

    # Alacritty
    - {name: cmake, state: latest}
    - {name: pkg-config, state: latest}
    - {name: libfreetype6-dev, state: latest}
    - {name: libfontconfig1-dev, state: latest}
    - {name: libxcb-xfixes0-dev, state: latest}

- name: Remove useless packages from the cache
  apt:
    autoclean: yes

- name: Remove dependencies that are no longer required
  apt:
    autoremove: yes
